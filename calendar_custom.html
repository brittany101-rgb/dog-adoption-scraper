 // Check if mobile
            const isMobile = window.innerWidth < 768;
            
            var calendar = new FullCalendar.Calendar(calendarEl, {
                initialView: isMobile ? 'listMonth' : 'dayGridMonth',
                headerToolbar: {
                    left: 'prev,next',
                    center: 'title',
                    right: isMobile ? 'dayGridMonth,listMonth' : 'dayGridMonth,listMonth,today'
                },
                
                events: events,
                
                eventClick: function(info) {
                    info.jsEvent.preventDefault();
                    if (info.event.url) {
                        window.open(info.event.url, '_blank');
                    }
                },
                
                eventDisplay: 'block',
                displayEventTime: true,
                eventTimeFormat: {
                    hour: 'numeric',
                    minute: '2-digit',
                    meridiem: 'short'
                },
                
                // Mobile-specific settings
                height: isMobile ? 'auto' : 'auto',
                contentHeight: isMobile ? 'auto' : 'auto',
                
                dayMaxEvents: isMobile ? 2 : 3,
                moreLinkClick: 'popover',
                
                // Better touch support
                navLinks: true,
                eventClassNames: function() {
                    return isMobile ? 'mobile-event' : '';
                }
            });
            
            calendar.render();
            
            // Re-render on window resize
            window.addEventListener('resize', function() {
                const nowMobile = window.innerWidth < 768;
                if (nowMobile !== isMobile) {
                    location.reload();
                }
            });
        });
    </script>
</body>
</html>
